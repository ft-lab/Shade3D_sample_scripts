<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<script src="./readExternalFile.js"></script>

<script type="text/javascript">
	/**
	 * JSON/TEXTファイルを読み込み.
	 */
	function loadJSON (msgStr) {
		// ファイルダイアログボックスを表示し、パスをreturnに返す.
		py_src = readFileToString('./showFileDialogBox.py');
		pathStr = window.external.setScript(py_src);
		if (pathStr === undefined) pathStr = "";

		// パスを表示.
		document.getElementById('result_file_path').textContent = pathStr;

		// 指定のパスのテキストを取得.
		fileStr = "";
		if (pathStr != "") {
			fileStr = readFileToString(pathStr);
		}
		document.form.msg_area.value = fileStr;
	}
</script>

</head>

<body>

<h3>ダイアログボックスを表示</h3>
<hr>
<form method="POST" name="form" action="">
	ダイアログボックスを出し、JSONまたはTEXTファイルの内容を表示します。<br>
	<input type="button" value="JSONファイルの読み込み" onclick="loadJSON();"><br><br>

	Path : <span id="result_file_path"></span><br>
	<textarea name="msg_area" cols=50 rows=8>
	</textarea>
	<hr />
</form>

</body>
</html>
